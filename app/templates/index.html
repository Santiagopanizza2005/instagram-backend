<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Instagram Gateway</title>
  <link rel="stylesheet" href="/static/style.css?v={{ version }}" />
  <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.5/dist/dotlottie-wc.js" type="module"></script>
  <link id="favicon" rel="icon" type="image/png" href="/imagenes/logo.webp" />
  <link id="favicon2" rel="shortcut icon" type="image/png" href="/imagenes/logo.webp" />
</head>
<body>
  <div class="container">
    <div class="site-header">
      <img id="site-logo" class="site-logo" src="/imagenes/logo.webp" alt="Logo" />
    </div>
    <div class="main-frame">
    <div id="landing" class="section">
      <div class="hero">
        <div class="hero-logo">Instagram Gateway</div>
        <div class="hero-actions"><button id="btn-open-ig">Iniciar sesi√≥n en Instagram</button></div>
      </div>
    </div>

    <div id="dashboard" class="section" style="display:none">
      <div class="topbar">
        <div class="stack" style="align-items:flex-start">
          <div class="label">Token</div>
          <div class="pill fixed">
            <span id="token-masked" class="token-text">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
            <button class="secondary eye" id="btn-eye">üëÅ</button>
            <button class="secondary" id="btn-reset-token">Restablecer</button>
            <button class="secondary copy" id="copy-token">Copiar</button>
          </div>
          <span id="token-value" style="display:none"></span>
        </div>
        <div>
          <div class="pill right" style="gap:8px">
            <button class="secondary" id="btn-reset-top">Reiniciar</button>
            <button class="danger" id="btn-logout-top">Cerrar sesi√≥n</button>
          </div>
        </div>
      </div>

      <div class="panel">
        <div class="label">Cuentas conectadas</div>
        <div id="accounts"></div>
      </div>


      <div class="panel">
        <div class="label">Integraci√≥n n8n</div>
        <div class="opt-row">
          <div class="label" style="margin:0">Enviar archivo en vez de texto</div>
          <div id="sw-file" class="switch"><div class="knob"></div></div>
        </div>
        <div style="margin-bottom:8px">URL de env√≠o</div>
        <div class="row"><div class="mono" id="send-url" style="flex:1"></div><button class="secondary" onclick="copyText('#send-url')">Copiar</button></div>
        <div style="margin-top:12px" class="stack">
          <div class="opt-row">
            <div class="label" style="margin:0">Simular escritura</div>
            <div id="sw-typing" class="switch"><div class="knob"></div></div>
          </div>
          <div class="opt-row">
            <div class="label" style="margin:0">Marcar mensaje previo como visto</div>
            <div id="sw-seen" class="switch"><div class="knob"></div></div>
          </div>
          <div class="opt-row">
            <div class="label" style="margin:0">Visitar perfil antes de responder</div>
            <div id="sw-profile" class="switch"><div class="knob"></div></div>
          </div>
          <div class="opt-row">
            <div class="label" style="margin:0">Ver historias antes de responder</div>
            <div id="sw-stories" class="switch"><div class="knob"></div></div>
          </div>
          <div class="opt-row">
            <div class="label" style="margin:0">Modo seguro (delays aleatorios)</div>
            <div id="sw-safe" class="switch"><div class="knob"></div></div>
          </div>
        </div>
      </div>

      <div class="panel">
        <div class="label">Configuraci√≥n HTTP</div>
        <div class="stack">
          <div>
            <div class="label">Method</div>
            <div class="pill">POST</div>
          </div>
          <div>
            <div class="label">URL</div>
            <div class="row"><div class="mono" id="conf-url" style="flex:1"></div><button class="secondary" onclick="copyText('#conf-url')">Copiar</button></div>
          </div>
          <div class="opt-row">
            <div class="label" style="margin:0">Send Body</div>
            <div id="sw-body" class="switch"><div class="knob"></div></div>
          </div>
          <div>
            <div class="label">Body Content Type</div>
            <div class="pill">JSON</div>
          </div>
          <div class="label">Specify Body using Fields Below</div>
          <div id="body-config" class="stack">
            <div class="form-row">
              <div>
                <div class="label">Name</div>
                <div class="mono name-box">username</div>
              </div>
              <div>
                <div class="label">Value</div>
                <input id="bp-username" placeholder="@usuario" />
              </div>
            </div>
            <div class="form-row">
              <div>
                <div class="label">Name</div>
                <div class="mono name-box">recipient</div>
              </div>
              <div>
                <div class="label">Value</div>
                <input id="bp-recipient" placeholder="@destino o id" />
              </div>
            </div>
            <div class="form-row">
              <div>
                <div class="label">Name</div>
                <div id="bp-content-name" class="mono name-box">text</div>
              </div>
              <div>
                <div class="label">Value</div>
                <input id="bp-content" placeholder="Hola" />
              </div>
            </div>
            
          </div>
          <div style="margin-top:12px"></div>
          <div>
            <div class="label">N8n token Authorization</div>
            <div class="stack">
              <div class="row equal"><div class="mono name-box">Header Name</div><div class="mono">Authorization</div></div>
              <div class="row equal"><div class="mono name-box">Header Value</div><div class="mono" id="n8n-auth-value"></div></div>
            </div>
          </div>
        </div>
      </div>
      
    </div>
    </div>

    

    <div id="session-login" class="modal active">
      <div class="card">
        <div class="ig-logo"><img class="site-logo" src="/imagenes/logo.webp" alt="Logo" /><div>Iniciar sesi√≥n</div></div>
        <div class="stack">
          <div>
            <div class="label">Usuario</div>
            <input id="sess-user" placeholder="usuario" autocomplete="off" />
          </div>
          <div>
            <div class="label">Contrase√±a</div>
            <div class="row">
              <input id="sess-pass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="flex:1" />
              <button class="secondary eye" id="btn-eye-sess">üëÅ</button>
            </div>
          </div>
        </div>
        <div class="actions">
          <button id="btn-sess-login">Iniciar sesi√≥n</button>
        </div>
      </div>
    </div>

    <div id="login-modal" class="modal">
      <div class="card">
        <div class="ig-logo"><img class="site-logo" src="/imagenes/logo.webp" alt="Logo" /><div>Iniciar sesi√≥n</div></div>
        <div id="login-step1" class="step active">
          <div class="stack">
            <div>
              <div class="label">Cuenta de Instagram</div>
              <input id="in-username" placeholder="@usuario" autocomplete="off" />
            </div>
            <div>
              <div class="label">Contrase√±a</div>
              <div class="row">
                <input id="in-password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password" style="flex:1" />
                <button class="secondary eye" id="btn-eye-pass">üëÅ</button>
              </div>
            </div>
            <div>
              <div class="label">C√≥digo 2FA (opcional)</div>
              <input id="in-code" placeholder="123456" />
            </div>
          </div>
          <div class="actions">
            <button id="btn-do-login">Entrar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="/static/app.js?v={{ version }}"></script>
</body>
</html>
